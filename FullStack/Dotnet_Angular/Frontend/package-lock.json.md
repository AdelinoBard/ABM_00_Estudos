# `package-lock.json`

É um **arquivo gerado automaticamente pelo npm** sempre que você instala ou atualiza pacotes. Ele registra:

- As **versões exatas** dos pacotes instalados
- A **estrutura completa da árvore de dependências**
- Informações de integridade e origem dos pacotes
- Permite **instalações reprodutíveis** em qualquer máquina

---

## Relação com outros arquivos

| Arquivo | Função principal |
| --- | --- |
| `package.json` | Lista as dependências declaradas pelo desenvolvedor |
| `package-lock.json` | Registra as versões exatas e a árvore de dependências gerada pelo npm |
| `/node_modules/` | Contém os arquivos reais dos pacotes instalados |

O `package-lock.json` garante que o conteúdo da pasta `node_modules` seja sempre o mesmo, mesmo que as dependências tenham atualizações disponíveis.

---

### 🔍 Estrutura simplificada

```json
{
  "name": "meu-projeto-angular",
  "lockfileVersion": 2,
  "requires": true,
  "packages": {
    "": {
      "dependencies": {
        "@angular/core": "^15.0.0",
        "rxjs": "^7.5.0"
      }
    },
    "node_modules/@angular/core": {
      "version": "15.2.0",
      "resolved": "https://registry.npmjs.org/@angular/core/-/core-15.2.0.tgz",
      "integrity": "sha512-abc123...",
      "dependencies": { ... }
    }
  }
}
```

---

## Por que ele é importante?

- **Trava versões**: evita que atualizações automáticas quebrem o projeto
- **Consistência entre ambientes**: todos os membros da equipe instalam os mesmos pacotes
- **Performance**: acelera instalações futuras com cache e resolução otimizada
- **CI/CD confiável**: builds em pipelines usam exatamente as mesmas dependências

---

### E se eu quiser usar o Yarn?

Se você decidir migrar para o **Yarn**, pode:

- **Excluir o `package-lock.json`**
- Rodar `yarn install`, que criará o `yarn.lock`
- Usar o comando `yarn import` para converter o `package-lock.json` em `yarn.lock` com base na árvore existente

Ambos os arquivos (`package-lock.json` e `yarn.lock`) têm o mesmo propósito: **garantir reprodutibilidade**, mas são incompatíveis entre si — use apenas um por projeto.

---

## Dicas práticas

- Sempre **versione** o `package-lock.json` no Git
- Evite editar manualmente — ele é gerado e mantido pelo npm
- Se estiver com problemas, apague `node_modules` e `package-lock.json`, e rode `npm install` novamente

---
